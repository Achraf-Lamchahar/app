<div class="login-container">
  <app-alert
    [message]="error"
    *ngIf="error"
    (close)="onHandleError()"
  ></app-alert>
  <div class="login-form">
    <h1>Log in</h1>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmitLogin()">
      <input
        type="email"
        formControlName="email"
        placeholder="Email"
        class="form-control"
      />
      <div
        class="error-message"
        *ngIf="
          loginForm.get('email').hasError('required') &&
          loginForm.get('email').touched
        "
      >
        An email is required.
      </div>
      <div
        class="error-message"
        *ngIf="
          loginForm.get('email').hasError('email') &&
          loginForm.get('email').touched
        "
      >
        Invalid email format.
      </div>
      <input
        type="password"
        formControlName="password"
        placeholder="Password"
        class="form-control"
      />
      <div
        class="error-message"
        *ngIf="
          loginForm.get('password').hasError('required') &&
          loginForm.get('password').touched
        "
      >
        Password is required.
      </div>
      <button type="submit" class="btn-info" [disabled]="loginForm.invalid">Log in</button>
    </form>
    <div class="alert alert-danger" *ngIf="authFailed">
      Authentication failed
    </div>
    <p class="signup-link">
      Don't have an account: <a [routerLink]="['/signup']"> Create an account</a>
    </p>
  </div>
</div>
